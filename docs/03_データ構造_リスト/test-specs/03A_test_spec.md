# テスト仕様書: 03A_connection_aggregation

## 概要
時間単位での接続数の集計テスト仕様書

## 基本機能テスト

### No.1: サンプルケース1検証
- **テスト概要**: 問題文のサンプルケース1を検証
- **input**: `end_time=5, period=1, logs=[(0,3,0), (1,2,0), (4,5,2), (5,3,5)]`
- **期待値**: `[3, 5, 5, 5, 8, 6]`
- **テストの目的**: 基本的な接続数集計ロジックの正確性を確認

### No.2: サンプルケース2検証
- **テスト概要**: 問題文のサンプルケース2を検証（空ログ）
- **input**: `end_time=3, period=1, logs=[]`
- **期待値**: `[0, 0, 0, 0]`
- **テストの目的**: 空のログでの処理を確認

### No.3: サンプルケース3検証
- **テスト概要**: 問題文のサンプルケース3を検証（期間集計）
- **input**: `end_time=6, period=2, logs=[(1,4,0), (3,1,1), (6,3,2)]`
- **期待値**: `[0, 4, 4, 5]`
- **テストの目的**: 期間集計機能の正確性を確認

## エッジケーステスト

### No.4: 最小時間範囲
- **テスト概要**: end_time=0での処理
- **input**: `end_time=0, period=1, logs=[(0,5,0)]`
- **期待値**: `[5]`
- **テストの目的**: 最小時間範囲での正確な処理

### No.5: 最大期間
- **テスト概要**: period=end_timeの場合
- **input**: `end_time=10, period=10, logs=[(0,3,0), (5,2,1)]`
- **期待値**: `[3, 4]`
- **テストの目的**: 最大期間での集計の正確性

### No.6: 全切断から再接続
- **テスト概要**: 接続数が0になってから再接続
- **input**: `end_time=4, period=1, logs=[(0,5,0), (2,0,5), (4,3,0)]`
- **期待値**: `[5, 5, 0, 0, 3]`
- **テストの目的**: 接続数の増減処理の正確性

### No.7: 同時接続切断
- **テスト概要**: 同じ時刻で接続と切断が発生
- **input**: `end_time=3, period=1, logs=[(1,5,3), (3,2,4)]`
- **期待値**: `[0, 2, 2, 0]`
- **テストの目的**: 同時接続切断の正確な処理

## 精度・境界値テスト

### No.8: 最大時間範囲
- **テスト概要**: end_time=1000での処理
- **input**: `end_time=1000, period=100, logs=[(0,10,0), (500,5,3), (1000,8,2)]`
- **期待値**: 計算結果（11要素のリスト）
- **テストの目的**: 最大時間範囲での処理性能と正確性

### No.9: 大量ログデータ
- **テスト概要**: 多数のログエントリーでの処理
- **input**: `end_time=100, period=10, logs=[100個のログエントリー]`
- **期待値**: 計算結果
- **テストの目的**: 大量データでの処理効率

### No.10: 境界値でのログ
- **テスト概要**: end_timeちょうどでのログ
- **input**: `end_time=10, period=5, logs=[(10,5,2)]`
- **期待値**: `[0, 0, 3]`
- **テストの目的**: 境界値での正確な処理

## 特殊機能テスト

### No.11: 非連続時刻ログ
- **テスト概要**: 飛び飛びの時刻でのログ
- **input**: `end_time=20, period=4, logs=[(3,5,0), (7,3,1), (15,2,3)]`
- **期待値**: 計算結果
- **テストの目的**: 非連続時刻での状態継続の正確性

### No.12: 大量接続数変動
- **テスト概要**: 接続数の大きな変動
- **input**: `end_time=5, period=1, logs=[(0,100,0), (2,50,80), (4,30,50)]`
- **期待値**: `[100, 100, 70, 70, 50, 50]`
- **テストの目的**: 大きな接続数変動での正確性

### No.13: 小期間での集計
- **テスト概要**: period=1での詳細集計
- **input**: `end_time=8, period=1, logs=[(1,3,0), (3,2,1), (6,4,2), (8,1,3)]`
- **期待値**: 計算結果（9要素）
- **テストの目的**: 詳細期間での集計精度

## パフォーマンステスト

### No.14: 大規模データ処理
- **テスト概要**: 大規模な時間範囲とログでの処理性能
- **input**: `end_time=1000, period=50, logs=[500個のランダムログ]`
- **期待値**: 計算結果（処理時間2秒以内）
- **テストの目的**: 大規模データでの処理効率と正確性
