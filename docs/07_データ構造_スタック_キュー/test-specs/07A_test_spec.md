# テスト仕様書: 07A_scope_manager

## 概要
疑似スコープ実装（ScopeManager）のテスト仕様書

## 基本機能テスト

### No.1: サンプルケース1検証
- **テスト概要**: 問題文のサンプルケース1を検証（基本的なスコープ動作）
- **input**: set_variable("x",10), get_variable("x"), enter_scope(), get_variable("x"), set_variable("x",20), get_variable("x"), exit_scope(), get_variable("x")
- **期待値**: `[10, 10, 20, 10]`
- **テストの目的**: 基本的なスコープの作成・変数設定・取得・削除を確認

### No.2: サンプルケース2検証
- **テスト概要**: 問題文のサンプルケース2を検証（ネストしたスコープ）
- **input**: set_variable("y",5), enter_scope(), enter_scope(), set_variable("z",30), get_variable("z"), get_variable("y"), exit_scope(), get_variable("z")
- **期待値**: `[30, 5, None]`
- **テストの目的**: ネストしたスコープでの変数取得とスコープ削除を確認

### No.3: サンプルケース3検証
- **テスト概要**: 問題文のサンプルケース3を検証（未定義変数）
- **input**: get_variable("unknown"), enter_scope(), get_variable("unknown")
- **期待値**: `[None, None]`
- **テストの目的**: 未定義変数でのNone返却を確認

## エッジケーステスト

### No.4: サンプルケース4検証
- **テスト概要**: 問題文のサンプルケース4を検証（変数の上書きと復元）
- **input**: set_variable("a",100), set_variable("b",200), enter_scope(), set_variable("b",300), get_variable("a"), get_variable("b"), exit_scope(), get_variable("b")
- **期待値**: `[100, 300, 200]`
- **テストの目的**: 変数の上書きとスコープ復元の正確性

### No.5: サンプルケース5検証
- **テスト概要**: 問題文のサンプルケース5を検証（グローバルスコープの保護）
- **input**: exit_scope(), set_variable("x",5), exit_scope(), get_variable("x")
- **期待値**: `[5]`
- **テストの目的**: グローバルスコープでのexit_scope無視を確認

### No.6: 空のScopeManager
- **テスト概要**: 初期状態での変数取得
- **input**: get_variable("any")
- **期待値**: `None`
- **テストの目的**: 初期状態での正確な処理

### No.7: 連続スコープ作成・削除
- **テスト概要**: 連続してスコープを作成・削除
- **input**: enter_scope(), enter_scope(), enter_scope(), exit_scope(), exit_scope(), exit_scope()
- **期待値**: エラーなく実行完了
- **テストの目的**: 連続操作での安定性

## 精度・境界値テスト

### No.8: 深いネスト
- **テスト概要**: 深くネストしたスコープでの動作
- **input**: 10レベルのネストでの変数設定・取得
- **期待値**: 各レベルでの正確な変数取得
- **テストの目的**: 深いネストでの処理精度

### No.9: 同名変数の多重定義
- **テスト概要**: 各スコープで同じ名前の変数を定義
- **input**: 同名変数を5つのスコープで異なる値で定義
- **期待値**: 各スコープで最も内側の値を取得
- **テストの目的**: 変数名解決の正確性

### No.10: 大量変数の管理
- **テスト概要**: 単一スコープでの大量変数
- **input**: 100個の異なる変数を設定・取得
- **期待値**: 全変数の正確な設定・取得
- **テストの目的**: 大量データでの処理確認

## 特殊機能テスト

### No.11: 変数の上書きパターン
- **テスト概要**: 複雑な変数上書きシナリオ
- **input**: 外側で設定→内側で上書き→さらに内側で上書き→段階的に戻る
- **期待値**: 各段階での正確な変数値
- **テストの目的**: 複雑な上書きパターンでの動作確認

### No.12: スコープ間での変数継承
- **テスト概要**: 外側スコープの変数が内側で見える
- **input**: 外側で複数変数設定→内側スコープで全て取得
- **期待値**: 全変数が正確に取得される
- **テストの目的**: 変数継承の正確性

### No.13: 混合操作パターン
- **テスト概要**: 変数設定・取得・スコープ操作の混合
- **input**: ランダムな順序での操作組み合わせ
- **期待値**: 各操作での正確な結果
- **テストの目的**: 混合操作での安定性

## パフォーマンステスト

### No.14: 大規模操作テスト
- **テスト概要**: 大量のスコープ操作と変数操作
- **input**: 1000回のスコープ作成・削除、10000回の変数設定・取得
- **期待値**: 全操作での正確な動作（処理時間3秒以内）
- **テストの目的**: 大規模操作での処理効率と正確性
