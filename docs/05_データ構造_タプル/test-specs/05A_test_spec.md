# テスト仕様書: 05A_sales_aggregation

## 概要
商品ごとの売上集計機能のテスト仕様書

## 基本機能テスト

### No.1: サンプルケース1検証
- **テスト概要**: 問題文のサンプルケース1を検証
- **input**: `[("Tokyo","Credit","Apple",3), ("Tokyo","Cash","Apple",2), ("Osaka","Credit","Apple",5), ("Tokyo","Credit","Apple",1), ("Osaka","Credit","Orange",4), ("Tokyo","Cash","Banana",2), ("Tokyo","Credit","Apple",2)]`
- **期待値**: `{("Tokyo","Credit","Apple"):6, ("Tokyo","Cash","Apple"):2, ("Osaka","Credit","Apple"):5, ("Osaka","Credit","Orange"):4, ("Tokyo","Cash","Banana"):2}`
- **テストの目的**: 基本的な売上集計機能の正確性を確認

### No.2: サンプルケース2検証
- **テスト概要**: 問題文のサンプルケース2を検証（空リスト）
- **input**: `[]`
- **期待値**: `{}`
- **テストの目的**: 空の売上データでの処理を確認

### No.3: サンプルケース3検証
- **テスト概要**: 問題文のサンプルケース3を検証（同一商品異なる支払い方法）
- **input**: `[("Tokyo","Credit","Apple",4), ("Tokyo","Cash","Apple",5), ("Tokyo","Credit","Apple",3), ("Tokyo","MobilePay","Apple",2)]`
- **期待値**: `{("Tokyo","Credit","Apple"):7, ("Tokyo","Cash","Apple"):5, ("Tokyo","MobilePay","Apple"):2}`
- **テストの目的**: 支払い方法による区別の正確性を確認

## エッジケーステスト

### No.4: 単一売上データ
- **テスト概要**: 売上データが1件のみの場合
- **input**: `[("Store1","Cash","Product1",10)]`
- **期待値**: `{("Store1","Cash","Product1"):10}`
- **テストの目的**: 最小データでの処理確認

### No.5: 同一キーの集計
- **テスト概要**: 全く同じ(店舗,支払い,商品)組み合わせが複数回
- **input**: `[("A","B","C",5), ("A","B","C",3), ("A","B","C",2)]`
- **期待値**: `{("A","B","C"):10}`
- **テストの目的**: 同一キーでの数量集計の正確性

### No.6: 異なる店舗での同一商品
- **テスト概要**: 異なる店舗で同じ商品が売れた場合
- **input**: `[("StoreA","Cash","Apple",3), ("StoreB","Cash","Apple",4), ("StoreC","Cash","Apple",2)]`
- **期待値**: `{("StoreA","Cash","Apple"):3, ("StoreB","Cash","Apple"):4, ("StoreC","Cash","Apple"):2}`
- **テストの目的**: 店舗別での集計区別の確認

### No.7: 数量1の最小値
- **テスト概要**: 最小数量1での処理
- **input**: `[("Store","Credit","Item",1), ("Store","Cash","Item",1)]`
- **期待値**: `{("Store","Credit","Item"):1, ("Store","Cash","Item"):1}`
- **テストの目的**: 最小数量での処理確認

## 精度・境界値テスト

### No.8: 大量数量の集計
- **テスト概要**: 大きな数量での集計
- **input**: `[("Store","Cash","Product",1000), ("Store","Cash","Product",2000)]`
- **期待値**: `{("Store","Cash","Product"):3000}`
- **テストの目的**: 大きな数値での集計精度

### No.9: 多数の異なるキー
- **テスト概要**: 多数の異なる(店舗,支払い,商品)組み合わせ
- **input**: `100個の異なる組み合わせの売上データ`
- **期待値**: 100個のキーを持つ辞書
- **テストの目的**: 多数キーでの処理確認

### No.10: 特殊文字を含む名前
- **テスト概要**: 店舗名や商品名に特殊文字を含む場合
- **input**: `[("Store-1","Credit/Debit","Product@#$",5)]`
- **期待値**: `{("Store-1","Credit/Debit","Product@#$"):5}`
- **テストの目的**: 特殊文字での処理確認

## 特殊機能テスト

### No.11: 複雑な商品名パターン
- **テスト概要**: 長い商品名や空白を含む商品名
- **input**: `[("Store A","Credit Card","Product With Spaces",3), ("Store B","Mobile Payment","Very Long Product Name That Contains Multiple Words",7)]`
- **期待値**: 対応する辞書
- **テストの目的**: 複雑な文字列での処理確認

### No.12: 同一店舗での多様な支払い方法
- **テスト概要**: 1つの店舗で多数の支払い方法
- **input**: `[("Tokyo","Cash","Apple",2), ("Tokyo","Credit","Apple",3), ("Tokyo","Debit","Apple",1), ("Tokyo","Mobile","Apple",4), ("Tokyo","Crypto","Apple",1)]`
- **期待値**: 5つの異なるキーを持つ辞書
- **テストの目的**: 支払い方法の多様性での処理

### No.13: 数量の累積確認
- **テスト概要**: 複数回に分けての同一キー数量追加
- **input**: `[("S","P","I",1), ("S","P","I",2), ("S","P","I",3), ("S","P","I",4)]`
- **期待値**: `{("S","P","I"):10}`
- **テストの目的**: 数量累積計算の正確性

## パフォーマンステスト

### No.14: 大規模売上データ処理
- **テスト概要**: 大量の売上データでの処理性能
- **input**: `10000件の売上データ（様々な店舗・支払い方法・商品の組み合わせ）`
- **期待値**: 正確な集計結果（処理時間3秒以内）
- **テストの目的**: 大規模データでの処理効率と正確性